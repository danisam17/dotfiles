function changed() {
  if ([ -d .git ] || git rev-parse --git-dir > /dev/null 2>&1); then
    printf "(`git rev-parse --abbrev-ref HEAD`) "
    if ! git diff-index --quiet HEAD --; then
      printf '[âˆ´]'
    else
      printf ''
    fi
  fi
}

function prompt() {
  export PS1='  \e[0;32m$(whoami)\e[m at \e[0;34m$(basename `pwd`) $(changed)\e[m \n'
}

prompt
